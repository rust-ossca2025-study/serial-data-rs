## encrypt

### 연습문제

**1. 참고로 트레이트의 메뉴얼을 찾아보는 과정에 대해서 소개했습니다만 new_magic_crypt라는 매크로에 대해서는 소개를 안했습니다. 직접 한번 메뉴얼 페이지를 검색해서 어떤 일을 하는 매크로인지 찾아보시기 바랍니다. 어떤 타입의 객체를 생성하는 것인지, 2개의 인자는 각각 어떤 의미를 갖는지를 확인해보시면, 나중에 좀 더 다양한 옵션을 사용하는데 도움이 될 것입니다.**

**new_magic_crypt!**<br/>
AES 암호화 객체(MagicCrypt256)을 생성하는 역할

매크로의 인자
- 첫번째 인자 : 암호화/복호화에 사용할 비밀키 (문자열) ex) "secretKey" <- 임의대로 하면 됨
- 두번째 인자 : 암호화 알고리즘의 비트 길이 (128 or 256)


**2.BASE64에 대해서도 조사해보세요. 특히 위 예제에서 생성한 시리얼 키 GPghOzaNUn7G7FKiAkhKQQ==에서 마지막에 있는 "=="가 어떤 의미인지를 확인해보시기 바랍니다. 보통의 시리얼 키에는 "="라는 문자가 없는데 왜 우리가 만든 시리얼 키에는 "="가 있을까요? 사실은 "=="를 생략해도 괸찮습니다만 왜 그럴까요?**

BASE64 인코딩에서 마지막에 붙는 "=="는 패딩 문자
BASE64sms 3바이트씩 데이터를 인코딩하는데, 원본 데이터의 길이가 3의 배수가 아닐 때 , 부족한 부분을 "="으로 채워서 전체 길이를 채움

"==" : 2바이트 부족
"=" : 1바이트 부족

**3. 저는 구글에서 암호화 크레이트를 검색해봤습니다만 사실 요즘에는 더 좋은 개발 보조 도구가 있습니다. ChatGPT나 Copilot등에 암호화에 대해 좋은 크레이트를 추천해달라고 요청해보세요. 예제 코드도 만들어달라고하면 좋은 예제를 보여주고, 예제에 대한 상세한 설명도 해줍니다.**

**ring**
- 암호화 , 해싱 , 서명 , 키 생성 등 다양한 기능을 제공
- 빠르고 안전하며 ,웹 서버/ 클라이언트 등 실무에서 많이 사용

**rust-crypto**
- 다양한 암호화 알고리즘(AES , SHA , HMAC)을 지원하는 라이브러리
- 현재 유지보수보다는 RustCrypto 조직의 여러 크레이트가 더 활발히 사용됨

**AES**

- AES 구현 크레이트
- 블록 암호화 알고리즘만 제공



<br /> <br />
### Rust 테스트 코드 작성

**테스트 모듈**
- `#[cfg(test)]` : 테스트 빌드에서만 컴파일되도록 함
- `mod tests` : 테스트용 하위 모듈
- `#[test]` : 이 함수가 테스트 함수임을 표시
- `#[should_panic]` : panic이 발생해야 성공으로 간주하는 테스트 
- `assert_eq!()` : 기대값과 결과값이 같은지 비교



<br/>

외부 크레이트 사용하는 경우 , 테스트 모듈 안에서 다시 가져와야 함



